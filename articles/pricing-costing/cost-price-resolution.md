---
title: 确定基于项目的估算和实际值的成本费率
description: 本文提供基于项目的估算和实际值的成本费率如何确定的信息。
author: rumant
ms.date: 9/12/2022
ms.topic: article
ms.reviewer: johnmichalak
ms.author: rumant
ms.openlocfilehash: 822a7bd8ae87d4fd4044d8b46347bfe1b4ca13ca
ms.sourcegitcommit: 60a34a00e2237b377c6f777612cebcd6380b05e1
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/13/2022
ms.locfileid: "9475262"
---
# <a name="determine-cost-rates-for-project-based-estimates-and-actuals"></a>确定基于项目的估算和实际值的成本费率

_**适用于：** 面向资源/非库存场景的 Project Operations_

为了在 Microsoft Dynamics 365 Project Operations 中确定估算和实际值的成本费，系统首先使用传入估算或实际上下文中的日期和货币来确定销售价目表。 具体在实际上下文中，系统使用 **交易日期** 字段来确定适用的价目表。 将传入估计值或实际值的 **交易日期** 值与价目表上的 **生效开始日期(时区无关)** 和 **生效结束日期(时区无关)** 值进行比较 。 成本价目表确定后，系统将确定成本费率。

## <a name="determining-cost-rates-in-estimate-and-actual-contexts-for-time"></a>确定“时间”的估算和实际上下文中的成本费率

**时间** 的估算上下文是指：

- **时间** 的报价单明细详细信息。
- **时间** 的合同子项详细信息。
- 项目的资源分配。

**时间** 的实际上下文是指：

- **时间** 的输入和更正日记帐行。
- 提交时间条目时创建的日记帐行。

成本价目表确定后，系统将完成以下步骤来输入默认成本费率。

1. 系统将 **时间** 的估算或实际上下文中的 **角色**、**资源供给公司** 和 **资源单位** 字段的组合与价目表上的角色价格明细进行匹配。 此匹配假设您为人工成本使用的是标准定价维度。 如果您将系统配置为匹配 **角色**、**资源供给公司** 和 **资源单位** 以外的字段或除这几个字段外还匹配其他字段，将使用不同的组合来检索匹配的角色价格明细。
1. 如果系统发现具有 **角色**、**资源供给公司** 和 **资源单位** 组合的成本费率的角色价格明细，该成本率将用作默认成本率。
1. 如果系统无法匹配 **角色**、**资源供给公司** 和 **资源单位** 值，将删除优先级最低的维度，搜索与其他两个维度值匹配的角色价格明细，并继续逐步删除维度，直到找到匹配的角色价格行。 该记录的成本率将用作默认成本率。 如果系统未找到匹配的角色价格行，价格将默认设置为 **0**（零）。

> [!NOTE]
> 如果您配置不同的 **角色** 和 **资源单位** 字段的优先级，或者您有优先级更高的其他维度，之前的行为将相应改变。 系统按优先级顺序检索具有与每个定价维度值匹配的值的角色价格记录。 这些维度是 null 值的行将排在最后。

## <a name="determining-cost-rates-on-actual-and-estimate-lines-for-expense"></a>确定“支出”的实际值和估计值明细中的成本费率

**支出** 的估算上下文是指：

- **支出** 的报价单明细详细信息。
- **支出** 的合同子项详细信息。
- 项目的支出估算。

**支出** 的实际上下文是指：

- **支出** 的输入和更正日记帐行。
- 提交支出条目时创建的日记帐行。

成本价目表确定后，系统将完成以下步骤来输入默认成本费率。

1. 系统将 **支出** 的估算或实际上下文中的 **类别** 和 **单位** 字段的组合与价目表上的类别价格明细进行匹配。
1. 如果系统发现具有 **类别** 和 **单位** 组合的成本费率的类别价格明细，该成本费率将用作默认成本费率。
1. 如果系统无法匹配 **类别** 和 **单位** 值，价格默认将设置为 **0**（零）。
1. 在估算上下文中，如果系统可以找到匹配的类别价格明细，但定价方式不是 **单价**，成本费率将默认设置为 **0**（零）。

## <a name="determining-cost-rates-on-actual-and-estimate-lines-for-material"></a>确定“材料”的实际明细和估算明细中的成本费率

**材料** 的估算上下文是指：

- **材料** 的报价单明细详细信息。
- **材料** 的合同子项详细信息。
- 项目的材料估算。

**材料** 的实际上下文是指：

- **材料** 的输入和更正日记帐行。
- 提交材料使用日志时创建的日记帐行。

成本价目表确定后，系统将完成以下步骤来输入默认成本费率。

1. 系统根据价目表上的价目表项目明细使用 **材料** 的估算或实际上下文中的 **产品** 和 **单位** 字段的组合。
1. 如果系统发现具有 **产品** 和 **单位** 组合的成本费率的价目表项明细，该成本费率将用作默认成本费率。
1. 如果系统无法匹配 **产品** 和 **单位** 值，单位成本将默认设置为 **0**（零）。
1. 在估算或实际上下文中，如果系统可以找到匹配的价目表项明细，但定价方式不是 **货币金额**，单位成本将默认设置为 **0**。 出现此行为是因为 Project Operations 仅支持项目中使用的材料的 **货币金额** 定价方式。

[!INCLUDE[footer-include](../includes/footer-banner.md)]
