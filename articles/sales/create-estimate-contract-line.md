---
title: 估算基于项目的合同子项
description: 此主题提供有关基于项目的合同子项中的估算的信息。
author: rumant
manager: Annbe
ms.date: 10/27/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 24299d997074efcff3776168652809d490c81b17
ms.sourcegitcommit: f6f86e80dfef15a7b5f9174b55dddf410522f7c8
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 10/31/2020
ms.locfileid: "4180451"
---
# <a name="estimate-a-projectbased-contract-line"></a>估算基于项目的合同子项

_**适用于：** 面向资源/非库存场景的 Project Operations_ 

在 Dynamics 365 Project Operations 中，基于项目的合同子项具有详细信息，帮助估算交付合同子项所涉及的工作的成本和潜在收入。

若要估算基于项目的合同子项，请转到基于项目的 **合同子项** 上的 **合同子项详细信息** 选项卡。  可通过以下两种方法在基于项目的合同子项上创建估算：

   - 通过手动添加合同子项详细信息，直接在合同子项上创建估算。
   - 创建项目和项目计划，然后将项目和任务关联到项目的合同子项。 这样，您可以根据合同子项中包含的组件将项目计划估算导入合同子项。

## <a name="create-an-estimate-directly-on-a-projectbased-contract-line"></a>直接在基于项目的合同子项上创建估算

1. 转到合同子项，选择 **合同子项详细信息** 选项卡。在此选项卡上创建的合同子项将汇总，显示为此 **合同子项** 的 **合同值**。 
2. 在 **合同子项详细信息** 子网格中，选择 **+ 新建合同子项详细信息**。 一个快速创建滑块将打开。 **合同子项详细信息** 窗体上有以下字段：

| 字段 | 地点 | 描述 | 下游影响 |
| --- | --- | --- | --- |
| **说明** | **快速创建** | 对特定预估的说明。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **交易分类** | **快速创建** | 此下拉列表是基于项目的合同子项的 **常规** 选项卡中包含的交易类列表。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **角色** | **快速创建** | 执行此工作或产生此支出的人员的角色。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **类别** | **快速创建** | 工作或支出的类别。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **开始日期** | **快速创建** | 工作的开始日期。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **结束日期** | **快速创建** | 工作的结束日期。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **资源供给公司** | **快速创建** | 产生此成本以及提供完成此工作的资源的资源供给公司或法人。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 此字段也用于成本费检索。 |
| **资源单位** | **快速创建** | 产生此成本并提供完成工作的资源的资源提供单位。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 此字段也用于成本费检索。 |
| **单位计划** | **快速创建** | 工作或支出的计价单位组。 单位属于单位计划或单位组。 例如，*英里* 和 *公里 (Km)* 是属于描述距离的一组单位的单位。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **计价单位** | **快速创建** | 工作或支出的计价单位。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **数量** | **快速创建** | 工作或支出的数量。 | 此字段默认为自动创建的成本的相关合同子项详细信息。 |
| **单价** | **快速创建** | 执行工作的角色的帐单费率或支出类别的销售价格。 此字段根据对开始日期有效的项目价目表上的角色和资源单位组合默认为 **时间**。 对于支出，此字段的默认值来自于对开始日期有效的项目价目表中交易类别的价格设置。 如果交易类别的定价方式不是 **单位成本**，则没有默认值，此字段将保留为空。 | 执行工作的角色的成本费率或支出类别的单位成本。 此字段默认为 **基于角色的时间** 与附加到对开始日期有效的合同签订部门的成本价目表角色价格明细上的资源单位组合。 对于支出，此字段的默认值基于附加到合同签订部门对开始日期有效的成本价目表的类别价格明细。 如果交易类别的定价方式不是“每单位价格”，则没有默认值，此字段将保留为空。 |
| **预计税款** | **快速创建** | 用户输入的此工作或支出的估算税款。 | 用户输入的此工作或支出的估算税款。 |
| **金额** | **快速创建** | 如果 **数量** 和 **价格** 字段保留为空，此字段中的值可以由用户添加。 如果 **数量** 和 **价格** 已填充，**金额** 字段将为只读，计算公式为 **（数量\*单价）+ 税款**。 | &nbsp; |

## <a name="update-prices-on-contract-line-details"></a>更新合同子项详细信息中的价格

如果您在附加到合同的项目价目表或合同签订部门的成本价目表上更改了价格，您可以刷新各个合同子项详细信息中的价格来反映更改。 在 **合同** 页上，选择 **重新计算**。 将打开一个警告，通知您此合同上所有合同子项的价格已重置。 选择 **是** 刷新销售和成本合同子项详细信息的价格。

## <a name="access-contract-line-details-for-cost"></a>访问成本的合同子项详细信息

在 **合同子项详细信息** 选项卡上，在网格中选择一行以显示子网格工具栏上的操作。 子网格工具栏上的第一个操作是 **打开成本详细信息**。 若要查看此合同子项详细信息的相关成本费率和金额，请选择 **打开成本详细信息**。 

> [!NOTE]
> 更改 **成本** 的合同子项详细信息中的资源供给公司、资源单位、数量、日期、角色或类别值还将更改 **销售** 的合同子项详细信息中的相应值。

## <a name="currency-on-contract-line-details-for-cost-and-sales"></a>成本和销售的合同子项详细信息中的货币

**销售** 的合同子项详细信息设置对合同子项详细信息的开始日期有效的项目价目表中的默认货币。

**成本** 的合同子项详细信息设置合同的合同签订部门的项目价目表（对 **成本** 的合同子项详细信息的开始日期有效）中的默认货币。

利润率计算将 **成本** 和 **销售** 的合同子项详细信息的金额转换为环境的基础货币，来报告合同上的总实际利润和估计利润。

> [!NOTE]
> 可能会由于缺少有时效性的汇率，出现货币舍入错误和利润变化。 在项目合同中使用这些计算得出的只是近似值，不能用于需要更高舍入精度并需要了解汇率有效期的实际的法定报告或其他报告。


[!INCLUDE[footer-include](../includes/footer-banner.md)]