---
title: 预估项目合同子项
description: 该主题提供了关于项目合同子项预估的信息。
author: rumant
manager: Annbe
ms.date: 10/27/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 7cb7d7eccf62837ee5abf4cbe29a21dc728eb7ef
ms.sourcegitcommit: 5fd529f2308edfe9322082313e6d50146df56aca
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/06/2021
ms.locfileid: "5858507"
---
# <a name="estimate-a-project-contract-line"></a>预估项目合同子项

_**适用于：** 面向资源/非库存场景的 Project Operations_ 

在 Dynamics 365 Project Operations 中，基于项目的合同子项具有详细信息，帮助估算交付合同子项所涉及的工作的成本和潜在收入。

若要估算基于项目的合同子项，请转到基于项目的 **合同子项** 上的 **合同子项详细信息** 选项卡。  可通过以下两种方法在基于项目的合同子项上创建估算：

   - 通过手动添加合同子项详细信息，直接在合同子项上创建估算。
   - 创建项目和项目计划，然后将项目和任务关联到项目的合同子项。 这样，您可以根据合同子项中包含的组件将项目计划估算导入合同子项。

## <a name="create-an-estimate-directly-on-a-project-contract-line"></a>直接根据项目合同子项创建估算

要直接根据项目合同子项创建估算，请按照以下步骤操作：

1. 转到合同子项，选择 **合同子项详细信息** 选项卡。在此选项卡上创建的合同子项将汇总，显示为此 **合同子项** 的 **合同值**。 
2. 在 **合同子项详细信息** 子网格中，选择 **新建合同子项详细信息**。 一个快速创建滑块将打开。 以下字段可用于 **合同子项详细信息** 页。

| 字段 | 地点 | 描述 | 下游影响 |
| --- | --- | --- | --- |
| **说明** | **快速创建** | 对特定预估的说明。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **交易分类** | **快速创建** | 此交易类别列表包含在基于项目的合同子项的 **常规** 选项卡上。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **选择产品** | **快速创建** | 当交易分类为 **材料** 时适用。 您可以选择指定该估算明细适用于 **现有**（目录）产品或 **目录外** 产品。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **产品** | **快速创建** | 产品目录中的产品的 ID。 仅当您在 **选择产品** 字段中选择 **现有产品** 时，才会启用此字段。 该 ID 用于从合同上的项目价目表检索销售价格。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **目录外产品** | **快速创建** | 用于输入产品名称的文本字段。 仅当您在 **选择产品** 字段中选择 **写入** 时，才会启用此字段。| 此值默认为自动创建的成本的相关合同子项明细。 |
| **角色** | **快速创建** | 执行此工作或产生此支出的人员的角色。 | 此值默认为自动创建的成本的相关合同子项明细。|
| **类别** | **快速创建** | 工作或支出的类别。 | 此值默认为自动创建的成本的相关合同子项明细。|
| **开始日期** | **快速创建** | 工作的开始日期。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **结束日期** | **快速创建** | 工作的结束日期。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **资源供给公司** | **快速创建** | 将发生此成本并提供资源来处理该成本的资源供给公司或法人。 | 此值默认为成本的相关合同子项明细，该明细将自动创建并用于成本价格检索。 |
| **资源单位** | **快速创建** | 将发生此成本并提供资源来处理该成本的资源单位。 | 此值默认为成本的相关合同子项明细，该明细将自动创建并用于成本价格检索。 |
| **单位计划** | **快速创建** | 工作、产品或支出的计价单位组。 单位属于单位计划或单位组。 例如，*英里* 和 *公里 (kms)* 是属于描述距离的一组单位的单位。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **计价单位** | **快速创建** | 工作、产品或支出的工作单位。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **数量** | **快速创建** | 工作、产品或支出的工作数量。 | 此值默认为自动创建的成本的相关合同子项明细。 |
| **单价** | **快速创建** | 负责执行工作的角色的帐单费率、产品的单价或产品或支出类别的销售价格。 **时间** 的默认值基于对开始日期有效的项目价目表角色价格行中定价维度值的组合。 对于 **支出**，此字段的默认值来自针对项目价目表中对开始日期有效的交易类别设置的价格。 如果交易类别的定价方式不是 **单位成本**，则没有默认值，此字段将保留为空。 对于产品，此字段的默认值基于项目价目表中对开始日期有效的 **价目表项** 行。| 执行工作的角色的成本费率、支出类别的单位成本或产品的单位成本。 **时间** 的默认值基于附加至对开始日期有效的合同单位的成本价目表角色价格行上定价维度值的组合。 对于 **支出**，此字段的默认值基于附加至对开始日期有效的合同单位的成本价目表的类别价格行。 如果交易类别的定价方式不是“每单位价格”，则没有默认值，此字段将保留为空。 对于产品，此字段的默认值基于附加至对开始日期有效的合同单位的成本价目表的 **价目表项**。|
| **预计税款** | **快速创建** | 用户输入的此工作或支出的估算税款。 | &nbsp; |
| **应收总额** | **快速创建** | 如果将 **数量** 和 **价格** 字段留空，则可以添加此字段中的值。 如果填充了 **数量** 和 **价格** 字段，则 **金额** 字段为只读字段，并且按 **（数量\*单价）+ 税款** 进行计算。 | &nbsp; |

## <a name="update-prices-on-contract-line-details"></a>更新合同子项详细信息中的价格

如果您在附加到合同的项目价目表或合同签订部门的成本价目表上更改了价格，您可以刷新各个合同子项详细信息中的价格来反映更改。 在 **合同** 页上，选择 **重新计算**。 此时将显示一条警告，通知您此合同上所有合同子项的价格已重置。 选择 **是** 刷新销售和成本合同子项详细信息的价格。

## <a name="access-contract-line-details-for-cost"></a>访问成本的合同子项详细信息

在 **合同子项详细信息** 选项卡上，在网格中选择一行以显示子网格工具栏上的操作。 子网格工具栏上的第一个操作是 **打开成本详细信息**。 若要查看此合同子项详细信息的相关成本费率和金额，请选择 **打开成本详细信息**。 

> [!NOTE]
> 更改 **成本** 的合同子项详细信息中的资源供给公司、资源单位、数量、日期、角色或类别值还将更改 **销售** 的合同子项详细信息中的相应值。

## <a name="currency-on-contract-line-details-for-cost-and-sales"></a>成本和销售的合同子项详细信息中的货币

**销售** 的合同子项详细信息设置对合同子项详细信息的开始日期有效的项目价目表中的默认货币。

**成本** 的合同子项详细信息设置合同的合同签订部门的项目价目表（对 **成本** 的合同子项详细信息的开始日期有效）中的默认货币。

利润率计算将 **成本** 和 **销售** 的合同子项详细信息的金额转换为环境的基础货币，来报告合同上的总实际利润和估计利润。

> [!NOTE]
> 可能会由于缺少有时效性的汇率，出现货币舍入错误和利润变化。 这些计算只用于项目合同，因为这些是近似值，不适用于需要更高舍入精度并感知汇率日期有效性的实际法定报告或其他报告。


[!INCLUDE[footer-include](../includes/footer-banner.md)]
