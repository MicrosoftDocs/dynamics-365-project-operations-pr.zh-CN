---
title: 将可预订资源用作定价维度
description: 此主题介绍如何将可预订资源用作定价维度。
author: Rumant
manager: kfend
ms.custom:
- dyn365-projectservice
ms.date: 10/01/2020
ms.topic: article
ms.service: business-applications
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: d3f5ed7da5972cec5b22524bdcb3dc34a83eee28
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/15/2021
ms.locfileid: "5290933"
---
# <a name="use-bookable-resource-as-a-pricing-dimension"></a><span data-ttu-id="ea9a7-103">将可预订资源用作定价维度</span><span class="sxs-lookup"><span data-stu-id="ea9a7-103">Use bookable resource as a pricing dimension</span></span>

[!include [banner](../includes/psa-now-project-operations.md)]

<span data-ttu-id="ea9a7-104">此主题介绍如何将可预订资源用作定价维度。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-104">This topic provides information about using a bookable resource as a pricing dimension.</span></span> <span data-ttu-id="ea9a7-105">首先，如果尚未创建定价维度解决方案，需要新建一个。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-105">Before you begin, if you have not already created a pricing dimension solution, you will need to create a new one.</span></span> <span data-ttu-id="ea9a7-106">如果已经有了定价维度解决方案，则可在该解决方案中进行更改。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-106">If you already have a pricing dimension solution, then you can make your changes in that solution.</span></span> <span data-ttu-id="ea9a7-107">如果尚未为组织新建定价维度解决方案，请完成[创建自定义字段和实体](create-custom-fields-entities.md)主题中的过程。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-107">If you have not created a new pricing dimension solution for your organization, complete the procedures in the [Create custom fields and entities](create-custom-fields-entities.md) topic.</span></span>

## <a name="add-bookable-resource-to-forms-and-views"></a><span data-ttu-id="ea9a7-108">向窗体和视图添加可预订资源</span><span class="sxs-lookup"><span data-stu-id="ea9a7-108">Add bookable resource to forms and views</span></span>
<span data-ttu-id="ea9a7-109">若要在定价维度解决方案的 UI 中显示这些字段，需要浏览关键 Project Service 实体的所有窗体和视图，并将这些字段添加到这些实体的窗体和视图。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-109">To make the fields visible in the UI in the pricing dimension solution, you will need to walk through all of the forms and views of the key Project Service entities and add these fields to the forms and views of those entities.</span></span>
<span data-ttu-id="ea9a7-110">下表是需要更新的大量自带窗体和视图的列表（按实体排列）。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-110">The following table is a comprehensive list of the out-of-the box forms and views, listed by entity, that will need to be updated.</span></span> <span data-ttu-id="ea9a7-111">如果这些实体的自定义项中有任何其他视图或窗体，请将新字段也添加到这些视图或窗体。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-111">If there are any additional views or forms in your customizations on these entities, add the new fields to those as well.</span></span>
<span data-ttu-id="ea9a7-112">打开解决方案资源管理器以找到定价维度解决方案，然后单击 **发布所有自定义项**。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-112">Open Solution Explorer for the pricing dimension solution and then click **Publish All Customizations**.</span></span>


|   <span data-ttu-id="ea9a7-113">实体</span><span class="sxs-lookup"><span data-stu-id="ea9a7-113">Entity</span></span>        | <span data-ttu-id="ea9a7-114">窗体</span><span class="sxs-lookup"><span data-stu-id="ea9a7-114">Forms</span></span>   |<span data-ttu-id="ea9a7-115">视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-115">Views</span></span>        |
| ------------------------------|---------------------------------|----------------------------------|
|  <span data-ttu-id="ea9a7-116">角色价格</span><span class="sxs-lookup"><span data-stu-id="ea9a7-116">Role Price</span></span>|<span data-ttu-id="ea9a7-117">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-117">• Information</span></span> |<span data-ttu-id="ea9a7-118">• 可用的资源类别价格</span><span class="sxs-lookup"><span data-stu-id="ea9a7-118">• Active Resource Category Prices</span></span><br> <span data-ttu-id="ea9a7-119">• 资源类别价格关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-119">• Resource Category Price Associated View</span></span>|
|  <span data-ttu-id="ea9a7-120">角色价格加价</span><span class="sxs-lookup"><span data-stu-id="ea9a7-120">Role Price Markup</span></span>|<span data-ttu-id="ea9a7-121">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-121">• Information</span></span>|<span data-ttu-id="ea9a7-122">• 可用角色价格加价</span><span class="sxs-lookup"><span data-stu-id="ea9a7-122">• Active Role Price Markup</span></span><br><span data-ttu-id="ea9a7-123">• 角色价格加价关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-123">• Role Price Markup Associated View</span></span>|
|  <span data-ttu-id="ea9a7-124">报价单明细详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-124">Quote line detail</span></span>|<span data-ttu-id="ea9a7-125">• 项目信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-125">• Project Information</span></span><br><span data-ttu-id="ea9a7-126">• 项目快速创建</span><span class="sxs-lookup"><span data-stu-id="ea9a7-126">• Project Quick Create</span></span>|<span data-ttu-id="ea9a7-127">• 可用的报价单明细详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-127">• Active Quote Line Detail</span></span><br><span data-ttu-id="ea9a7-128">• 合并的报价单明细详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-128">• Combined Quote Line Details</span></span><br><span data-ttu-id="ea9a7-129">• 报价单明细详细信息关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-129">• Quote Line Detail associated view</span></span>|
|  <span data-ttu-id="ea9a7-130">项目合同子项详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-130">Project Contract line detail</span></span>|<span data-ttu-id="ea9a7-131">• 项目信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-131">• Project Information</span></span><br><span data-ttu-id="ea9a7-132">• 项目快速创建</span><span class="sxs-lookup"><span data-stu-id="ea9a7-132">• Project Quick Create</span></span>|<span data-ttu-id="ea9a7-133">• 合并的合同子项详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-133">• Combined Contract line Details</span></span><br><span data-ttu-id="ea9a7-134">• 可用的合同子项详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-134">• Active Contract Line Details</span></span><br><span data-ttu-id="ea9a7-135">• 合同子项详细信息关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-135">• Contract Line Detail associated view</span></span>|
|  <span data-ttu-id="ea9a7-136">项目任务</span><span class="sxs-lookup"><span data-stu-id="ea9a7-136">Project Task</span></span>|<span data-ttu-id="ea9a7-137">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-137">• Information</span></span><br><span data-ttu-id="ea9a7-138">• 新窗体</span><span class="sxs-lookup"><span data-stu-id="ea9a7-138">• New Form</span></span>||
|  <span data-ttu-id="ea9a7-139">项目团队成员</span><span class="sxs-lookup"><span data-stu-id="ea9a7-139">Project Team Member</span></span>|<span data-ttu-id="ea9a7-140">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-140">• Information</span></span><br><span data-ttu-id="ea9a7-141">• 新窗体</span><span class="sxs-lookup"><span data-stu-id="ea9a7-141">• New Form</span></span>|<span data-ttu-id="ea9a7-142">• 可用的项目团队成员</span><span class="sxs-lookup"><span data-stu-id="ea9a7-142">• Active Project Team Members</span></span><br><span data-ttu-id="ea9a7-143">• 项目团队成员</span><span class="sxs-lookup"><span data-stu-id="ea9a7-143">• Project Team Members</span></span><br><span data-ttu-id="ea9a7-144">• 项目团队成员关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-144">• Project Team members associated View</span></span>|
|  <span data-ttu-id="ea9a7-145">时间条目</span><span class="sxs-lookup"><span data-stu-id="ea9a7-145">Time Entry</span></span>|<span data-ttu-id="ea9a7-146">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-146">• Information</span></span><br><span data-ttu-id="ea9a7-147">• 创建时间条目</span><span class="sxs-lookup"><span data-stu-id="ea9a7-147">• Create Time Entry</span></span>|<span data-ttu-id="ea9a7-148">• 我的按日期列出的时间条目</span><span class="sxs-lookup"><span data-stu-id="ea9a7-148">• My Time Entries By Date</span></span><br><span data-ttu-id="ea9a7-149">• 我本周的时间条目</span><span class="sxs-lookup"><span data-stu-id="ea9a7-149">• My time Entries for this week</span></span><br><span data-ttu-id="ea9a7-150">• 供审批的时间条目</span><span class="sxs-lookup"><span data-stu-id="ea9a7-150">• Time entries for approval</span></span>|
|  <span data-ttu-id="ea9a7-151">日记帐行</span><span class="sxs-lookup"><span data-stu-id="ea9a7-151">Journal Line</span></span>|<span data-ttu-id="ea9a7-152">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-152">• Information</span></span><br><span data-ttu-id="ea9a7-153">• 快速创建</span><span class="sxs-lookup"><span data-stu-id="ea9a7-153">• Quick create</span></span>|<span data-ttu-id="ea9a7-154">• 可用的日记帐行</span><span class="sxs-lookup"><span data-stu-id="ea9a7-154">• Active journal lines</span></span><br><span data-ttu-id="ea9a7-155">• 日记帐行关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-155">• Journal Line associated view</span></span>|
|  <span data-ttu-id="ea9a7-156">发票明细详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-156">Invoice Line Detail</span></span>|<span data-ttu-id="ea9a7-157">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-157">• Information</span></span><br><span data-ttu-id="ea9a7-158">• 快速创建</span><span class="sxs-lookup"><span data-stu-id="ea9a7-158">• Quick create</span></span>|<span data-ttu-id="ea9a7-159">• 可用的发票明细详细信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-159">• Active Invoice Line Details</span></span><br><span data-ttu-id="ea9a7-160">• 应计费发票交易记录</span><span class="sxs-lookup"><span data-stu-id="ea9a7-160">• Chargeable Invoice Transactions</span></span><br><span data-ttu-id="ea9a7-161">• 免费发票交易记录</span><span class="sxs-lookup"><span data-stu-id="ea9a7-161">• Complimentary Invoice Transactions</span></span><br><span data-ttu-id="ea9a7-162">• 发票明细详细信息关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-162">• Invoice Line Detail associated view</span></span><br><span data-ttu-id="ea9a7-163">• 非应计费发票交易记录</span><span class="sxs-lookup"><span data-stu-id="ea9a7-163">• Non-Chargeable Invoice Transactions</span></span>|
|  <span data-ttu-id="ea9a7-164">实际值</span><span class="sxs-lookup"><span data-stu-id="ea9a7-164">Actual</span></span>|<span data-ttu-id="ea9a7-165">• 信息</span><span class="sxs-lookup"><span data-stu-id="ea9a7-165">• Information</span></span><br><span data-ttu-id="ea9a7-166">• 可用的实际值</span><span class="sxs-lookup"><span data-stu-id="ea9a7-166">• Active Actuals</span></span>|<span data-ttu-id="ea9a7-167">• 实际值关联视图</span><span class="sxs-lookup"><span data-stu-id="ea9a7-167">• Actual Associated view</span></span>|

## <a name="set-up-bookable-resource-as-a-pricing-dimension"></a><span data-ttu-id="ea9a7-168">将可预订资源设置为定价维度</span><span class="sxs-lookup"><span data-stu-id="ea9a7-168">Set up bookable resource as a pricing dimension</span></span>

1. <span data-ttu-id="ea9a7-169">在 Web 界面中，转到 **Project Service** > **设置** > **参数**。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-169">In the web interface, go to **Project Service** > **Settings** > **Parameters**.</span></span> <span data-ttu-id="ea9a7-170">请注意，**参数** 页 **基于金额的定价维度** 选项卡上的网格显示定价维度实体中的记录。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-170">On the **Parameter** page, on the **Amount-Based Pricing Dimensions** tab, notice that the grid on the tab shows the records in the pricing dimensions entity.</span></span> 
2. <span data-ttu-id="ea9a7-171">将 **可预订资源** 作为 **msdyn_bookableresource** 添加到此定价维度列表。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-171">Add **Bookable Resource** to this list of pricing dimensions as **msdyn_bookableresource**.</span></span> 
3. <span data-ttu-id="ea9a7-172">指定充当定价维度的可预订资源的上下文，并设置 **适用于成本** 和 **适用于销售** 值。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-172">Indicate the context in which the bookable resource works as a pricing dimension and set the **Applicable to cost** and **Applicable to sales** values.</span></span>
4. <span data-ttu-id="ea9a7-173">在 **维度类型** 字段中，选择 **基于金额**。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-173">In the **Dimension Type** field, select **Amount-based**.</span></span> 
5. <span data-ttu-id="ea9a7-174">选择可预订资源的成本和销售优先级。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-174">Select the cost and sales priority for the bookable resource.</span></span> <span data-ttu-id="ea9a7-175">通常，作为定价维度包含的可预订资源的优先级最高，所以将其设置为 **1**（或 **0**，具体取决于优先级的统计方法）将确保此行为。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-175">Typically, when included as a pricing dimension, a bookable resource has the highest priority so setting this to **1** (or **0** depending on how you count the priority) would ensure that behavior.</span></span>

## <a name="set-up-pricing-dimension-field-names"></a><span data-ttu-id="ea9a7-176">设置定价维度字段名</span><span class="sxs-lookup"><span data-stu-id="ea9a7-176">Set up pricing dimension field names</span></span>

<span data-ttu-id="ea9a7-177">当定价维度在 **角色价格** 表中的字段名与其在需要设置默认价格的其他任何实体中的字段名不同时，定价维度记录必须了解不同名称。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-177">When the field name of a pricing dimension in the **Role Price** table is different from its field name in any of the other entities where price defaulting needs to work, the pricing dimension record must be made aware of the different names.</span></span>    
<span data-ttu-id="ea9a7-178">对于可预订资源，**项目团队成员** 实体的字段名 (**msdyn_bookableresourceid**) 与其在 **角色价格** 实体中的名称 (**msdyn_bookableresource**) 稍微不同。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-178">For bookable resource, the **Project Team Members** entity has a slightly different field name (**msdyn_bookableresourceid**) from what it is called on the **Role price** entity (**msdyn_bookableresource**).</span></span> <span data-ttu-id="ea9a7-179">**msydn_bookableresource** 的定价维度记录必须了解这一点。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-179">The pricing dimension record for **msydn_bookableresource** must be made aware of this.</span></span> 
1. <span data-ttu-id="ea9a7-180">为此，请在 **定价维度** 网格中单击行以打开 **msdyn_bookableresource** 的维度页。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-180">To do this, double-click the row in the **Pricing Dimensions** grid to open the dimension page of **msdyn_bookableresource**.</span></span>
2. <span data-ttu-id="ea9a7-181">在维度页的 **相关** 选项卡上，单击 **定价维度字段名称**。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-181">On dimension page, on the **Related** tab, click **Pricing Dimension Field Names**.</span></span>

 ![“定价维度字段名称”选项卡](media/PD-fieldname.png)

4. <span data-ttu-id="ea9a7-183">在打开的关联视图中，单击 **添加新定价维度字段名称**。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-183">On the associated view that opens, click **Add New Pricing Dimension Field Name**.</span></span>

 ![添加新定价维度字段名称](media/Add-NewPD-fieldname.png)


<span data-ttu-id="ea9a7-185">此选项用于打开 **msdyn_bookableresource** 的 **新定价维度字段名称** 页。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-185">This opens the **New Pricing dimension field name** page for **msdyn_bookableresource**.</span></span> 

5. <span data-ttu-id="ea9a7-186">将 **msdyn_projectteam** 添加到 **实体逻辑名称** 字段，将 **msdyn_bookableresourceid** 添加到 **字段名称** 字段。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-186">Add **msdyn_projectteam** to the **Entity Locigal Name** field and **msdyn_bookableresourceid** to the **Field Name** field.</span></span> <span data-ttu-id="ea9a7-187">保存记录。</span><span class="sxs-lookup"><span data-stu-id="ea9a7-187">Save the record.</span></span>

 ![“新定价维度字段名称”窗体](media/PD-fieldname-Added.png)


[!INCLUDE[footer-include](../includes/footer-banner.md)]