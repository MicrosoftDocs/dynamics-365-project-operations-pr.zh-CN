---
title: 管理资源
description: 此主题介绍如何管理资源。
author: ruhercul
manager: kfend
ms.service: project-operations
ms.custom:
- dyn365-projectservice
ms.date: 05/13/2019
ms.topic: article
ms.author: ruhercul
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365CE
- D365PS
- ProjectOperations
ms.openlocfilehash: 37377367751592fc533447748b80b124cb6548ad
ms.sourcegitcommit: 418fa1fe9d605b8faccc2d5dee1b04b4e753f194
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/10/2021
ms.locfileid: "5151332"
---
# <a name="manage-resources"></a>管理资源

[!include [banner](../includes/psa-now-project-operations.md)]

[!INCLUDE[cc-applies-to-psa-app-3.x](../includes/cc-applies-to-psa-app-3x.md)]

Dynamics 365 Project Service Automation 有一个资源管理器仪表板，其提供整个组织内的资源需求和利用率的视觉概览。 可使用此仪表板中的图表可视化以下信息：

- **资源需求** – **可用的资源请求** 图表显示已提交的资源。 资源按角色或项目聚合。
- **未提交的资源需求** – **未分派的资源需求** 图表显示尚未提交的所有资源要求。 可帮助资源经理查看不确定且可以通过资源请求提交的需求。
- **上周的可记帐利用率** – **按角色列出的利用率** 图表显示组织的按角色实际可记帐利用率占其按角色目标可记帐利用率的百分比。

    > [!NOTE]
    > 若要使用 **按角色列出的利用率** 图表，请创建一个使用 UpdateRoleUtilization 工作流的作业。 这个定期作业每隔七天运行一次，以计算前七天的可记帐利用率。 结果按角色聚合。

## <a name="manage-project-team-members"></a>管理项目团队成员

项目经理可使用资源管理器仪表板管理项目的资源。 例如，其可直接向项目添加团队成员和预订团队成员来满足通用资源捕获的资源要求。

### <a name="add-a-team-member-directly-to-a-project"></a>直接向项目添加团队成员

若要直接向项目添加团队成员，请在 **项目** 页的 **团队** 选项卡上，选择 **新建**。 将打开 **快速创建: 项目团队成员** 对话框。 在此对话框中，可执行以下任务：

- **预订指定资源** – 在 **可预订资源** 字段中，选择资源的名称。 然后选择角色，设置期间，再选择分配方法。 将使用所选分配方法和资源日历把所选指定资源添加到项目。
- **添加通用资源** – 让 **可预订资源** 字段保留为空，然后选择角色，设置期间，再选择首选分配方法。 将把通用资源添加到团队来充当占位符，以存储用于为团队预订指定资源的需求模式。 将根据项目日历创建要求。
- **向团队添加指定资源但不占用资源产能** – 在 **可预订资源** 字段中，选择一个资源。 然后选择角色，并选择 **无** 作为分配方法。 将把该资源添加到团队，但不通过预订占用该资源的产能。

### <a name="book-a-team-member-to-fulfill-resource-requirements-for-a-generic-resource"></a>预订团队成员以满足对通用资源的资源要求

在 PSA 中，可为项目团队预订通用资源，还可以指定角色、所需产能和产能的分配方法。 可以为资源要求指定与通用资源关联的属性。 这些属性包括所需技能、首选部门和首选资源。

执行以下步骤指定开发人员通用资源所需技能。

1. 在 **项目** 页的 **团队** 选项卡上，选择 **新建** 以预订一个通用资源。

    ![团队中预订的通用资源](media/Resource-Management-image9.png)

2. 在 **所有团队成员** 视图的 **资源要求** 列中，选择用于添加通用资源所需技能的链接。

    ![“要求”链接](media/Resource-Management-image10.png)

3. 在显示的 **资源要求** 页的 **技能** 网格中，选择省略号 (**...**)，然后选择 **添加新要求特征** 以添加您的开发人员所需技能。

    ![“添加新要求特征”命令](media/Resource-Management-image11.png)

4. 在显示的 **快速创建: 要求特征** 对话框的 **特征** 字段中，选择所需技能。 然后在 **等级值** 字段中，选择该技能的熟练级别。 最后，在 **资源要求** 字段中，设置对部门来源资源或指定资源的要求。 在您完成时，选择 **保存**。

    ![“快速创建: 要求特征”对话框](media/Resource-Management-image12.png)

5. 在 **资源要求** 页中，选择 **预订** 以满足资源要求。

    ![“资源要求”页上的“预订”按钮](media/Resource-Management-image13.png)

    也可以在 **所有团队成员** 网格中选择通用资源，然后选择 **预订**。

    ![“所有团队成员”网格上方的“预订”按钮](media/Resource-Management-image14.png)

    > [!NOTE]
    > 在此示例中，需要 40 个工时，但是没有实际预订工时，因为通用资源不能有预订。 此外，也没有分派工时，因为通用资源是直接添加到团队的。 不是通过使用任务分派添加的。

    在 **日程安排助理** 页中，可按为资源要求指定的要求筛选可用资源。 将根据日程安排板中指定的排序参数为资源排序。

    ![“日程安排助理”页](media/Resource-Management-image15.png)

    下面是一些常用筛选器：

    - **特征和等级** – 除了熟练等级，还按技能、认证和其他资源资质进行筛选。
    - **角色** – 按分派给可预订资源的默认角色进行筛选。
    - **部门** – 按分派给的部门筛选可预订资源。

6. 如果对要求的原始搜索结果不满意，可以更改筛选条件。 展开左侧 **筛选器视图** 窗格，然后选择 **搜索** 以查找更多资源。

    ![“筛选器视图”窗格](media/Resource-Management-image16.png)

7. 若要更改结果的排序方法，请选择 **排序**。

    ![“排序”命令](media/Resource-Management-image17.png)

8. 按照网格顶部的指示，根据为要求指定的需求选择资源。 可以取消选择网格中选择的单元格，以释放资源产能。 一次只能选择预订一项资源。

9. 选择 **预订** 以预订所选资源，并且不关闭日程安排板，以便选择更多资源。 也可以选择 **预订并退出** 以预订所选资源并关闭日程安排板。

    ![要预订的资源](media/Resource-Management-image19.png)

    您将收到有关所预订工时的通知。 需求指示器显示满足了多少预订要求，还有多少未满足。 还可以查看占用了所选资源的多少产能。 选择 **展开** 查看有关资源预订的更多详细信息。

9. 回到 **所有团队成员** 视图。 请注意，此网格中的通用资源已替换为指定资源，并且列出了向该资源预订的 40 个工时。

    ![更新后的“所有团队成员”网格](media/Resource-Management-image20.png)

    > [!NOTE]
    > 不显示分派的工时数，因为它们是直接为团队预订的。 不是使用任务分派预订的。

## <a name="assign-generic-resources-to-tasks-and-generate-resource-requirements"></a>为任务分派通用资源和生成资源要求

在 PSA 中，可以创建任务，然后为其分派通用资源。 这样就可以在估算计划和财务数字的时候由占位符来表示资源需求。 然后可以为通用资源生成资源要求并满足。

1. 在 **项目** 页的 **计划** 选项卡上，选择 **添加** 以创建任务。

    ![已创建新任务](media/Resource-Management-image21.png)

2. 在 **资源** 字段中，选择 **资源选取器** 符号。 将显示资源选取器，其中显示项目的现有团队成员。

    ![资源选取器](media/Resource-Management-image22.png)

3. 输入新通用资源的名称，然后选择 **创建**。

    ![输入了新通用资源名称](media/Resource-Management-image23.png)

4. 在显示的 **快速创建: 项目团队成员** 对话框的 **角色** 字段中，选择通用资源的角色。 在 **资源部门** 字段中，选择通用资源的部门。 然后选择 **保存**。

    ![“快速创建: 项目团队成员”对话框](media/Resource-Management-image24.png)

    现在已为任务分派了通用团队成员。

    ![为任务分派了通用团队成员](media/Resource-Management-image25.png)

    在 **团队** 选项卡上，您将看到新的团队成员。 请注意，其只有分派的工时数。 这些工时数是分派给通用团队成员的所有任务的工时数之和。 通用团队成员还没有所需工时数或资源要求。

    ![“团队”选项卡上的通用团队成员](media/Resource-Management-image26.png)

5. 现在可以使用资源选取器将通用团队成员分派给其他任务。

    ![资源选取器中的通用团队成员](media/Resource-Management-image27.png)

    将通用资源分派给任务后，可以为通用资源生成资源要求。

5. 在 **团队** 选项卡上，选择通用资源，然后选择 **生成要求**。

    ![“生成要求”命令](media/Resource-Management-image28.png)

    生成要求后，通用团队成员将有所需工时数，以及资源要求的链接。

    ![“资源要求”链接](media/Resource-Management-image29.png)

    预订指定资源之后，将从团队中删除通用资源，并替换为该指定资源。

    ![通用资源被替换为指定资源](media/Resource-Management-image30.png)

    在 **计划** 选项卡上，将删除通用资源分派并替换为指定资源。

    ![“计划”选项卡上的通用资源分派被替换为指定资源](media/Resource-Management-image31.png)

    > [!NOTE]
    > 仅当为通用资源要求预订满了某项指定资源时，才发生此行为。 当一项指定资源部分取代通用资源要求或多项指定资源取代通用资源要求时，通用资源仍然分派给任务。

    下图中，为一个 80 个工时的任务规划了五天的持续时间（五天内每天 16 小时），并将该任务分派给了名称为 **职能** 的通用资源。

    ![为“职能”通用资源分派了为期五天的八十个工时任务](media/Resource-Management-image32.png)

    生成要求时，要求为五天内 80 个工时。

    ![为五天内 80 个工时生成的要求](media/Resource-Management-image33.png)

    因为可用资源每天仅工作八小时，所以需要两项资源才能满足要求。

    ![第二个资源](media/Resource-Management-image35.png)

    在 **团队** 选项卡上，现在可以看到通用资源没有所需工时数，但是仍然显示分派的工时数和构成用于满足要求的两项指定资源。

    ![“团队”选项卡上的两项指定资源](media/Resource-Management-image36.png)

    在 **计划** 选项卡上，通用资源仍然分派给任务。

    ![“计划”选项卡上的通用资源](media/Resource-Management-image37.png)

PSA 不能同时为任务分派两项资源，因为此行为将产生不太容易预测的计划。 在这个简单的示例中，可以将工时数轻松地平分给两项资源。 但是，在涉及多个任务和多项资源的更复杂方案中，PSA 必须假设应该如何将多项资源收到的预订分配给多项任务。

因此，在这些方案中，项目经理应该分析多项预订并根据需要分派。 为了分配预订，项目经理将通用资源的任务分派给指定资源，然后使用 **协调** 视图确保分派与预订可以协同工作。

### <a name="edit-a-resource-requirement"></a>编辑资源要求

创建资源要求之后，项目经理或资源经理可能会希望编辑详细信息以优化使用日程安排板时的搜索条件。 要编辑资源要求，请执行下列步骤。

1. 在 **项目** 页的 **团队** 选项卡上，选择通用资源的任何要求的链接。
2. 在显示的 **资源要求** 页上，可以更新多个属性。 以下是一些示例：

    - 姓名
    - 起始日期
    - 截止日期
    - 持续时间
    - 资源类型

在 **资源要求** 页上，项目经理或资源经理也可以定义以下信息：

- 技能
- 角色
- 资源首选项
- 首选部门

### <a name="update-resource-bookings-after-they-are-booked-on-a-project"></a>更新已预订给项目的资源的预订

将通用资源或指定资源添加到项目团队之后，可以更改该资源的预订。

1. 在 **项目** 页的 **团队** 选项卡上，选择一个团队成员，然后选择 **维护预订**。

    ![为所选团队成员打开了日程安排板](media/Resource-Management-image40.png)

    将显示日程安排板，其中显示项目团队成员的预订。 展开该团队成员的记录以查看已经为此项目和占用该团队成员产能的其他项目预订的工时数。

2. 选择预订并拖动以延长或缩短该预订。 将显示 **创建资源预订** 对话框，供您调整预订。

    ![“创建资源预订”对话框](media/Resource-Management-image41.png)

3. 右键单击预订。 然后可以使用快捷方式菜单完成以下操作：

    - 预订更改状态。
    - 编辑预订。
    - 替代项目团队中的资源。

### <a name="change-the-booking-status"></a>预订更改状态

可以更改任何默认或自定义预订状态。

![“更改状态”命令](media/Resource-Management-image42.png)

PSA 中有以下状态：

- **已取消** – 此状态取消资源的预订并释放该资源的产能。
- **硬预订** – 此状态占用资源的产能。 如果从 **项目** 页 **所有团队成员** 网格打开 **维护预订**，预订通常有此状态。
- **软预订** – 此状态将资源添加到团队，但是不占用该资源的产能。 它指示将该资源保留给了潜在工作，但是如果其他作业需要，该资源仍然有产能。 在整体资源可用性视图中，软预订的状态与硬预订的不同。
- **已建议** – 此状态表示资源经理或项目经理对资源的建议。 建议不占用资源的产能，不会将资源添加到项目团队。 若要为团队硬预订资源，项目经理必须接受建议。

### <a name="submit-resource-requests"></a>提交资源请求

资源要求用于传递资源经理必须满足的需求（资源要求）。 对于已经属于团队的通用资源，可以直接提交资源请求。 可以通过两种方法满足资源请求：

- 资源经理直接满足请求。 在此情况下，将把通用资源替换为具有指定资源的硬预订。
- 资源经理向项目经理建议资源，而项目经理则批准或拒绝建议的资源。

#### <a name="direct-fulfillment-of-resource-requests"></a>直接满足资源请求

生成资源要求时，项目经理可提交对通用资源的资源请求，方法是选择资源，然后选择 **提交请求**。

![“提交请求”按钮](media/Resource-Management-image45.png)

可以向要满足请求的资源经理提供有关资源的注释。 提交请求之后，团队成员的 **状态** 字段将变为 **已提交**。

![输入可选注释](media/Resource-Management-image46.png)

当资源经理满足请求时，**所有团队成员** 网格中将把通用团队成员替换为指定资源。

![“所有团队成员”网格中通用团队成员已替换为指定资源](media/Resource-Management-image47.png)

#### <a name="use-a-resource-proposal-for-resource-requests"></a>对资源请求使用资源建议

资源经理可以直接向项目经理建议资源，而不是直接为资源请求预订资源。 如果没有要求的精确匹配项，资源经理可以使用此选项。 当资源经理建议资源时，项目经理将发现通用团队成员的 **状态** 字段已更改为 **需要审阅**。

![通用团队成员的状态已更改为“需要审阅”](media/Resource-Management-image48.png)

若要查看建议的资源和资源的预订影响可视性表示，请双击状态为 **需要审阅** 的团队成员。 然后选择 **建议资源** 选项卡。

![“建议资源”选项卡](media/Resource-Management-image49.png)

选择 **接受所有建议** 以接受所有建议资源，或选择 **拒绝所有建议** 以拒绝这些资源。 如果接受建议资源，将在把这些资源硬预订为项目的团队成员，并替换通用资源。

> [!NOTE]
> 必须接受或拒绝所有建议资源。 不能部分接受或拒绝。

### <a name="substitute-a-resource-on-the-project-team"></a>替代项目团队中的资源

有时，项目经理必须替代为项目预订的某个团队成员。

1. 在 **项目** 页的 **团队** 选项卡上，选择需要替代的资源，然后选择 **维护预订**。
2. 展开该资源以查看将其分派给的项目。

    ![资源已展开并显示分配给的项目](media/Resource-Management-image50.png)

3. 右键单击该项目，然后选择 **替代资源**。
4. 如果知道要用于替代当前资源的资源，请选择或键入名称，然后选择 **重新分派**。

    ![指定替代资源](media/Resource-Management-image51.png)

    也可以执行以下步骤搜索资源：

    1. 选择 **查找替代项**。

        ![搜索替代资源](media/Resource-Management-image52.png)

        日程安排助理将返回可用替代项列表。 在日程安排助理中，可以进一步筛选可用资源以查找适合的替代项。

        ![可用替代项列表](media/Resource-Management-image53.png)

    2. 若要替代资源，请选择所需资源，然后选择 **替代**。

        ![已选择替代资源](media/Resource-Management-image54.png)

    将把预订和分派替代为新资源。

    ![预订和分派已替代为新资源](media/Resource-Management-image55.png)

## <a name="reconcile-team-member-bookings-and-assignments"></a>协调团队成员预订和分派

团队成员的预订和分派之间关系不紧密。 换句话说，资源可以有分派但无预订，也可以有预订但无分派。 理想情况下，预订和分派应一致，这样资源就可以落实产能以执行任务分派。 但是，预订可能基于可用性，而任务的时间安排可能会随着项目的进行而改变。 因此，预订和分派之间的这种松散关系可以为您提供灵活的选择。

PSA 中有一个 **协调** 选项卡，可供项目经理在项目团队中协调项目成员的预订及其分派。

![“协调”选项卡](media/Resource-Management-image56.png)

**协调** 选项卡显示深入到每个成员的单个任务分派级别的预订和分派。 它通过单元格显示可表示时间段（从数月到数天）的工时。

此选项卡还使用总额列显示项目的整体净总额。

对于每个资源，此选项卡计算团队成员的预订与团队成员任务分派汇总之差。 理想情况下，此差应该为 0（零）。 换句话说，预订与分派之间应该无差额。 将为差额着色并添加阴影，以便您注意以下两种情况：

- **预订不足** - 资源的分派比预订的多时，发生预订不足。 因为尚未保留此产能，所以项目经理可能希望解决这个问题，方法是扩展资源的预订以弥补不足额。
- **超出预订** – 当已经将某个资源预订给项目，但是尚未将其分派给任务时，发生超出预订。 如果资源是在进行任务分派之前为项目预订的，则可以接受这种情况。 但是，如果是其他情况，则不会计划把资源分派给任务。 在这些情况下，项目经理应该考虑取消资源的预订，以便将产能用于其他项目。

在某些情况下，在高于天的级别（如月级别）查看时间时，可能会发现资源的净差额为零（换句话说，预订 = 分派）。 但是，如果在周级别查看时间，可能会发现第一周的分派为零小时，预订为 40 小时，但是第二周的分派为 40 小时，预订为零小时。 总体而言，已协调预订和分派，但是一周与下一周不同。

在更高级别查看时间时，**协调** 选项卡中的单元格有一个指示器，用于说明较低级别存在差额。 可通过在单元格中双击进行放大来查看差额。 然后可以右键单击进行缩小。通过选择资源，然后使用网格工具栏上的 **下一个差异** 控件，可以转到该资源的订阅与分派之间的下一个差额。 然后可以使用 **上一个差异** 控件后退。 也可以在 **设置** 下关闭差额指示器和导航行为。

![差额指示器](media/Resource-Management-image57.png)

如果某个资源有任务分派，但是无预订，请在 **项目** 页的 **协调** 选项卡上选择预订不足，然后选择 **扩展预订**。 将显示 **扩展预订** 对话框，其中显示需要来解决资源不足的预订。 还显示该资源在所有项目或其他可计划实体中的现有预订。 如果选择 **确定** 为资源创建预订，无论该资源是否可用，都可能导致超额预订。

![“扩展预订”对话框](media/Resource-Management-image58.png)

然后，项目经理或资源经理可使用日程安排板管理资源超额预订超过其产能的任何情况。
