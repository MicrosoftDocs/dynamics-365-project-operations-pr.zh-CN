---
title: 将项目和任务映射到基于项目的合同子项 - 精简
description: 此主题提供有关在合同子项中添加和删除项目与任务的信息。
author: rumant
manager: Annbe
ms.date: 10/27/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: 4737f9870904bfc7adac11b8e2aa13bb8c610ca3
ms.sourcegitcommit: 5fd529f2308edfe9322082313e6d50146df56aca
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/06/2021
ms.locfileid: "5858037"
---
# <a name="map-projects-and-tasks-to-a-project-based-contract-line"></a>将项目和任务映射到基于项目的合同子项 

_**适用于：** 精简部署 - 估价交易开单，基于资源/非库存场景的 Project Operations_

在基于项目的合同子项上，您可以将项目中的特定任务映射到合同子项。

当您将特定任务映射到合同子项时，合同子项中定义的计费方法、应计费选项、上限以及客户仅适用于这些特定任务。

如果您遇到项目的一个阶段（例如，原型阶段）是固定价格，所有其他阶段都是时间和材料的情形，您可以将原型阶段和所有关联的子任务与具有固定价格计费方法的那个阶段的合同子项相关联。

您的项目工作分解结构 (WBS) 中的所有其他阶段都可以与基于时间和材料的合同子项相关联。

## <a name="associate-tasks-to-project-based-contract-lines"></a>将任务与基于项目的合同子项关联

任务可以从 **合同子项** 页上的 **应计费任务** 选项卡或 **项目** 页上的 **任务计费** 选项卡与合同子项关联。

### <a name="from-the-contract-line-page"></a>从“合同子项”页

完成以下步骤，从 **合同子项** 页的 **应计费任务** 选项卡将项目任务与合同子项关联。

1. 在基于项目的合同子项的 **常规** 选项卡上，验证 **项目** 字段是否填充。
2. 在 **包含的任务** 字段中，选择 **仅所选任务**。
3. 保存您的更改。 窗体将刷新，**应计费任务** 选项卡将显示。
4. 选择 **应计费任务** 选项卡，在子网格中选择 **添加合同子项任务**。
5. 在 **合同子项任务** 页上的 **任务** 下拉列表中，选择任务。 
6. 在 **计费类型** 字段中输入信息，然后选择 **保存并关闭**。 所选任务已与合同子项关联。

> [!NOTE]
> 这不是将项目任务关联到合同子项的最佳体验。 在此体验中，每个项目都必须手动关联。 首选方法是使用 **项目** 页上的 **任务计费** 选项卡。

### <a name="from-the-project-page"></a>从“项目”页

这是将任务关联到合同子项的最佳方法。 您可以选择多个任务，然后将它们及子任务关联到所选合同子项。 完成以下步骤，从 **项目** 页将任务与合同子项关联。

1. 在基于项目的合同子项的 **常规** 选项卡上，验证 **项目** 字段是否填充。
2. 在 **包含的任务** 字段中，选择 **仅所选任务**。
3. 保存基于项目的合同子项。 窗体将刷新，**应计费任务** 选项卡将显示。 这只是进行验证。
4. 在基于项目的合同子项的 **常规** 选项卡上，在 **项目** 字段中，选择项目链接。
5. 在 **项目** 页上，选择 **任务计费设置** 选项卡。
6. 有两个网格。 一个网格用于应用于整个项目的合同子项。 另一个网格用于特定于任务的计费设置。 在第二个网格中，选择一个或多个任务，然后选择 **关联合同子项**。
7. 在打开的对话页面中，从下拉列表中选择合同子项。
8. 使用 **计费类型** 下拉列表将任务标记为应计费或非应计费。
9. 选中复选框以指示关联是否还应包括所选任务的子任务。 选中复选框还会将所选任务的子任务关联到合同子项。
10. 选择 **确定** 以关闭对话框。

## <a name="unassociate-tasks-from-project-based-contract-lines"></a>取消任务与基于项目的合同子项的关联

### <a name="from-the-contract-line-page"></a>从“合同子项”页

完成以下步骤，在 **合同子项** 页的 **应计费任务** 选项卡上，取消项目任务与合同子项的关联。

1. 在 **应计费任务** 选项卡上，选择 **删除合同子项任务**。
2. 将出现一条警告消息，指示删除此关联可能导致冲销任务中以前记录的所有实际值。 选择对话中的 **确定** 以删除任务与基于项目的合同子项之间的关联。 

> [!NOTE]
> 这不会从项目中删除任务。 而是将任务关联从基于项目的合同子项中删除。

### <a name="from-the-project-page"></a>从“项目”页

这不是取消任务与合同子项的关联的更优的体验。 您可以选择多个任务，然后取消所有任务及其子任务与所选合同子项的关联。 完成以下步骤，取消任务与合同子项的关联。

1. 从基于项目的合同子项的 **常规** 选项卡，在 **项目** 字段中，单击项目的链接。
2. 在 **项目** 页上，选择 **任务计费设置** 选项卡。
3. 页面上有两个网格。 一个网格用于应用于整个项目的合同子项，另一个用于特定于任务的计费设置。 在第二个网格中，选择一个或多个任务，然后选择 **取消关联合同子项**。
4. 在打开的对话页面中，从下拉列表中选择合同子项。
5. 选中复选框以指示是否还应删除所选任务的所有子任务的关联。 选中复选框还会取消所选任务的子任务与合同子项的关联。
6. 选择 **确定**。 将出现一条警告消息，指示删除此关联可能导致冲销任务中以前记录的所有实际值。 选择警告对话中的 **确定** 以删除任务与基于项目的合同子项之间的关联。


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
