---
title: 为保留款或预付款开票
description: 此主题提供有关如何在 Project Operations 中为保留款或预付款开票的信息。
author: rumant
manager: Annbe
ms.date: 10/20/2020
ms.topic: article
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: c1c53e39a8c6fb27deff5e7a05d5cca3a4215466
ms.sourcegitcommit: fa32b1893286f20271fa4ec4be8fc68bd135f53c
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 02/15/2021
ms.locfileid: "5274132"
---
# <a name="invoice-a-retainer-or-an-advance"></a><span data-ttu-id="a4a1d-103">对保留款或预付款开票</span><span class="sxs-lookup"><span data-stu-id="a4a1d-103">Invoice a retainer or an advance</span></span>

<span data-ttu-id="a4a1d-104">_**适用于：** 基于资源/非库存场景的 Project Operations，精简部署 - 估价开票交易_</span><span class="sxs-lookup"><span data-stu-id="a4a1d-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios, Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="a4a1d-105">Dynamics 365 Project Operations 支持基于保留款的合同和一次性预付款。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-105">Dynamics 365 Project Operations supports retainer-based contracts and one-time advances.</span></span> <span data-ttu-id="a4a1d-106">在项目合同中，您可以记录保留款或一次性预付款的计划。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-106">On a project contract, you can record a schedule of retainers or a one-time advance.</span></span> <span data-ttu-id="a4a1d-107">但是，在项目合同级别记录不会立即让保留款或预付款可用。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-107">However, recording at the project contract level doesn't immediately make a retainer or advance available for use.</span></span> <span data-ttu-id="a4a1d-108">若要在实际向客户收费的发票上使用保留款或预付款，必须先为保留款或预付款开票。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-108">To use a retainer or advance on an invoice that actually charges the customer, the retainer or advance must be invoiced first.</span></span>

<span data-ttu-id="a4a1d-109">完成以下步骤来为保留款或预付款开票。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-109">Complete the following steps to invoice a retainer or an advance.</span></span>

1. <span data-ttu-id="a4a1d-110">选择 **销售** > **记帐** > **保留款和预付款**。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-110">Select **Sales** > **Billing** > **Retainers and Advances**.</span></span> 
2. <span data-ttu-id="a4a1d-111">在 **预付款和保留款** 页上，使用筛选器选择要开票的特定保留款或预付款，然后将其标记为 **可开票**。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-111">On the **Advances and Retainers** page, use the filter to select the specific retainer or advance to invoice and mark it as **Ready to Invoice**.</span></span>
3. <span data-ttu-id="a4a1d-112">从 **项目合同** 列表或详细信息页手动创建发票。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-112">Create an invoice either manually from the **Project Contract** list or detail page.</span></span> <span data-ttu-id="a4a1d-113">保留款或预付款将显示在 **发票** 页上 **预付款和保留款** 部分的草稿发票上。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-113">The retainer or advance is shown on the draft invoice in the **Advances and Retainers** section on the **Invoice** page.</span></span>
4. <span data-ttu-id="a4a1d-114">确认发票。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-114">Confirm the invoice.</span></span> <span data-ttu-id="a4a1d-115">这将使保留款或预付款可以使用。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-115">This will make the retainer or advance available for use.</span></span> <span data-ttu-id="a4a1d-116">您可以在 **保留款和预付款** 列表页上验证发票。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-116">You can verify the invoice on the **Retainers and Advances** list page.</span></span> <span data-ttu-id="a4a1d-117">对于已开发票的预付款或保留款，可用金额在网格中显示。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-117">For an invoiced Advance or Retainer, the available amount is shown in the grid.</span></span>

## <a name="create-a-retainer-or-advance-from-the-invoice-grid"></a><span data-ttu-id="a4a1d-118">从“发票”网格创建保留款或预付款</span><span class="sxs-lookup"><span data-stu-id="a4a1d-118">Create a retainer or advance from the Invoice grid</span></span>

<span data-ttu-id="a4a1d-119">您可以直接在发票上创建保留款或预付款。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-119">You can create a retainer or an advance directly on an invoice.</span></span>

1. <span data-ttu-id="a4a1d-120">在草稿发票上，在 **预付款和保留款** 子网格中，选择 **新建** 创建新保留款或预付款。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-120">On a draft invoice, on the **Advances and Retainers** subgrid, select **New** to create a new retainer or advance.</span></span> 
2. <span data-ttu-id="a4a1d-121">在 **快速创建** 页上，添加必要信息，然后选择 **保存**。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-121">On the **Quick Create** page, add the necessary information, and then select **Save**.</span></span> <span data-ttu-id="a4a1d-122">将在与发票相关的项目合同上创建保留款或预付款。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-122">The retainer or advance is created on the project contract related to the invoice.</span></span> <span data-ttu-id="a4a1d-123">保留款或预付款会自动标记为 **可开票**，然后添加到 **发票** 页上的 **预付款和保留款** 子网格中。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-123">The retainer or advance is automatically marked as **Ready to Invoice** and then added to the **Advances and Retainers** subgrid on the **Invoice** page.</span></span>

## <a name="reconcile-an-invoiced-retainer-or-advance"></a><span data-ttu-id="a4a1d-124">已开票的保留款或预付款对帐</span><span class="sxs-lookup"><span data-stu-id="a4a1d-124">Reconcile an invoiced retainer or advance</span></span>

<span data-ttu-id="a4a1d-125">在为保留款或预付款开票后，可以在包含时间、支出、里程碑或其他基于项目的费用的发票上使用它们或进行对帐。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-125">After a retainer or advance is invoiced, they can be used or reconciled on an invoice with time, expenses, milestones, or other project-based charges.</span></span> <span data-ttu-id="a4a1d-126">客户将看到他们的发票金额减掉了此发票上使用的保留款或预付款金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-126">The customer will see their invoice amount reduced by the retainer or advance amount used on this invoice.</span></span>

<span data-ttu-id="a4a1d-127">在为具有已开票保留款或预付款的项目合同生成的每个发票上，Project Operation 会自动将保留款或预付款应用于发票。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-127">On every invoice that is generated for a project contract that has invoiced retainers or advances, Project Operation automatically applies the retainer or advance to the invoice.</span></span>

<span data-ttu-id="a4a1d-128">这可以在 **发票** 页上的 **已应用的保留款和预付款** 网格中看到。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-128">This can be seen in the **Applied Retainers and Advances** grid on the **Invoice** page.</span></span> <span data-ttu-id="a4a1d-129">下表提供了有关 **项目发票** 页 **已应用的保留款和预付款** 网格上的字段的信息。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-129">The following table provides information about the fields on the **Applied Retainers and Advances** grid of the **Project Invoice** page.</span></span>

| <span data-ttu-id="a4a1d-130">字段</span><span class="sxs-lookup"><span data-stu-id="a4a1d-130">Field</span></span> | <span data-ttu-id="a4a1d-131">地点</span><span class="sxs-lookup"><span data-stu-id="a4a1d-131">Location</span></span> | <span data-ttu-id="a4a1d-132">描述</span><span class="sxs-lookup"><span data-stu-id="a4a1d-132">Description</span></span> | <span data-ttu-id="a4a1d-133">下游影响</span><span class="sxs-lookup"><span data-stu-id="a4a1d-133">Downstream impact</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="a4a1d-134">描述</span><span class="sxs-lookup"><span data-stu-id="a4a1d-134">Description</span></span> | <span data-ttu-id="a4a1d-135">**项目发票** 页上的 **已应用的预付款和保留款** 网格</span><span class="sxs-lookup"><span data-stu-id="a4a1d-135">**Applied Advances and Retainers** grid on the **Project Invoice** page</span></span> |<span data-ttu-id="a4a1d-136">此只读字段提供此发票上使用的保留款或预付款的说明。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-136">This read-only field provides a description of the retainer or advance used on this invoice.</span></span> <span data-ttu-id="a4a1d-137">此值不能在发票上更改。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-137">This value can't be changed on the invoice.</span></span> <span data-ttu-id="a4a1d-138">可以在 **项目合同** 页上的子网格中更新此值。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-138">This value can be updated on the subgrid on the **Project Contract** page.</span></span> | <span data-ttu-id="a4a1d-139">此字段可以在打印的发票上向客户显示，以指示发票上应用了哪些保留款或预付款。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-139">This field can be displayed to the customer on the printed invoice to indicate which retainer or advance is applied on the invoice.</span></span> |
| <span data-ttu-id="a4a1d-140">交货时间</span><span class="sxs-lookup"><span data-stu-id="a4a1d-140">Delivered On</span></span> | <span data-ttu-id="a4a1d-141">**项目发票** 页上的 **已应用的预付款和保留款** 网格</span><span class="sxs-lookup"><span data-stu-id="a4a1d-141">**Applied Advances and Retainers** grid on the **Project Invoice** page</span></span>  | <span data-ttu-id="a4a1d-142">此只读字段提供此发票上使用的保留款或预付款的发票日期。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-142">This read-only field provides the invoice date of the retainer or advance used on this invoice.</span></span> <span data-ttu-id="a4a1d-143">此值不能在发票上更改。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-143">This value can't be changed on the invoice.</span></span> <span data-ttu-id="a4a1d-144">可以在 **项目合同** 页上的子网格中更新此值。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-144">This value can be updated on the subgrid on the **Project Contract** page.</span></span> | <span data-ttu-id="a4a1d-145">此字段可以在打印的发票上向客户显示，以指示保留款或预付款首次向客户开票的日期。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-145">This field can be displayed to the customer on the printed invoice to indicate the date when the retainer or advance was first invoiced to the customer.</span></span> |
| <span data-ttu-id="a4a1d-146">应收总额</span><span class="sxs-lookup"><span data-stu-id="a4a1d-146">Amount</span></span> | <span data-ttu-id="a4a1d-147">**项目发票** 页上的 **已应用的预付款和保留款** 网格</span><span class="sxs-lookup"><span data-stu-id="a4a1d-147">**Applied Advances and Retainers** grid on the **Project Invoice** page</span></span>  | <span data-ttu-id="a4a1d-148">此只读字段提供此发票上使用的保留款或预付款的金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-148">This read-only field provides the amount of the retainer or advance used on this invoice.</span></span> <span data-ttu-id="a4a1d-149">此值不能在发票上更改。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-149">This value can't be changed on the invoice.</span></span> <span data-ttu-id="a4a1d-150">可以在 **项目合同** 页上的子网格中更新此值。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-150">This value can be updated on the subgrid on the **Project Contract** page.</span></span> | <span data-ttu-id="a4a1d-151">此字段可以在打印的发票上向客户显示，以指示客户支付的保留款或预付款的原始金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-151">This field can be displayed to the customer on the printed invoice to indicate the original amount of retainer or advance that was paid by the customer.</span></span> |
| <span data-ttu-id="a4a1d-152">已用金额</span><span class="sxs-lookup"><span data-stu-id="a4a1d-152">Used Amount</span></span> | <span data-ttu-id="a4a1d-153">**项目发票** 页上的 **已应用的预付款和保留款** 网格</span><span class="sxs-lookup"><span data-stu-id="a4a1d-153">**Applied Advances and Retainers** grid on the **Project Invoice** page</span></span>  | <span data-ttu-id="a4a1d-154">此只读字段提供汇总已使用的保留款或预付款金额的计算值。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-154">This read-only field provides the calculated value that summarizes how much of the retainer or advance has been used.</span></span> | <span data-ttu-id="a4a1d-155">此字段可以在打印的发票上向客户显示，以指示此保留款或预付款中已使用的金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-155">This field can be displayed to the customer on the printed invoice to indicate the amount from this retainer or advance that was already used.</span></span> |
| <span data-ttu-id="a4a1d-156">应收净额</span><span class="sxs-lookup"><span data-stu-id="a4a1d-156">Extended Amount</span></span> | <span data-ttu-id="a4a1d-157">**项目发票** 页上的 **已应用的预付款和保留款** 网格</span><span class="sxs-lookup"><span data-stu-id="a4a1d-157">**Applied Advances and Retainers** grid on the **Project Invoice** page</span></span>  | <span data-ttu-id="a4a1d-158">此可编辑字段提供此项目发票上正在使用的保留款或预付款的金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-158">This editable field provides the amount of the retainer or advance that is being used on this project invoice.</span></span> <span data-ttu-id="a4a1d-159">此金额不能超过预付款的可用金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-159">This amount can't be more that what is available on the advance.</span></span> <span data-ttu-id="a4a1d-160">系统会自动将其计算为网格上 **金额** 和 **已用金额** 字段之间的差值。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-160">The system automatically calculates this as the difference between the **Amount** and **Used Amount** fields on the grid.</span></span> <span data-ttu-id="a4a1d-161">您可以减少此金额以使用低于可用金额的额度，但不能增加来使用超过可用金额的额度。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-161">You can decrease this amount to use less than what is available but you can't increase the amount to use more than what is available.</span></span> | <span data-ttu-id="a4a1d-162">此字段可以在打印的发票上向客户显示，以指示发票上正在使用的此保留款或预付款的金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-162">This field can be displayed to the customer on the printed invoice to indicate the amount from this retainer or advance that being used on the invoice.</span></span> |
| <span data-ttu-id="a4a1d-163">余额保留款金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-163">Balance Retainer Amount.</span></span> | <span data-ttu-id="a4a1d-164">**项目发票** 页上的 **已应用的预付款和保留款** 网格</span><span class="sxs-lookup"><span data-stu-id="a4a1d-164">**Applied Advances and Retainers** grid on the **Project Invoice** page</span></span>  | <span data-ttu-id="a4a1d-165">此只读字段提供在确认发票后将剩余的保留款或预付款金额的值。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-165">This read-only field provides the value of how much of the retainer or advance will be left after the invoice is confirmed.</span></span> | <span data-ttu-id="a4a1d-166">此字段可以在打印的发票上向客户显示，以指示确认并支付发票后，此保留款或预付款将剩余的金额。</span><span class="sxs-lookup"><span data-stu-id="a4a1d-166">This field can be displayed to the customer on the printed invoice to indicate the amount that will be left from this retainer or advance after the invoice is confirmed and paid.</span></span> |


[!INCLUDE[footer-include](../../includes/footer-banner.md)]