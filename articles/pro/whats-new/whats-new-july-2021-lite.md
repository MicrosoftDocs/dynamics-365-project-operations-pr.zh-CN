---
title: 2021 年 7 月新增功能 - Project Operations 精简部署
description: 本主题提供有关 2021 年 7 月发行版本的 Project Operations 精简部署中提供的质量更新的信息。
author: sigitac
ms.date: 07/07/2021
ms.topic: article
ms.prod: ''
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: 6992498df5beb97d4e7197e301f093320dc28a23
ms.sourcegitcommit: 3abf1e67938d91bd826b025ae3187cd313f556b9
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 07/07/2021
ms.locfileid: "6433642"
---
# <a name="whats-new-july-2021---project-operations-lite-deployment"></a><span data-ttu-id="b3223-103">2021 年 7 月新增功能 - Project Operations 精简部署</span><span class="sxs-lookup"><span data-stu-id="b3223-103">What's new July 2021 - Project Operations lite deployment</span></span>

<span data-ttu-id="b3223-104">_适用范围：精简部署 - 估价交易开票_</span><span class="sxs-lookup"><span data-stu-id="b3223-104">_Applies To: Lite deployment - deal to proforma invoicing_</span></span>

<span data-ttu-id="b3223-105">此主题适用于以下 Dynamics 365 Project Operations 组件和版本：</span><span class="sxs-lookup"><span data-stu-id="b3223-105">This topic applies to the following Dynamics 365 Project Operations components and versions:</span></span>

  - <span data-ttu-id="b3223-106">Dataverse 环境中的 Project Operations 版本 4.12.0.148。</span><span class="sxs-lookup"><span data-stu-id="b3223-106">Project Operations on Dataverse environment version 4.12.0.148.</span></span>

## <a name="quality-updates"></a><span data-ttu-id="b3223-107">质量更新</span><span class="sxs-lookup"><span data-stu-id="b3223-107">Quality updates</span></span>
| <span data-ttu-id="b3223-108">**功能区域**</span><span class="sxs-lookup"><span data-stu-id="b3223-108">**Feature area**</span></span>              | <span data-ttu-id="b3223-109">**参考编号**</span><span class="sxs-lookup"><span data-stu-id="b3223-109">**Reference number**</span></span> | <span data-ttu-id="b3223-110">**质量更新**</span><span class="sxs-lookup"><span data-stu-id="b3223-110">**Quality update**</span></span>                                                                                                                                                                                             |
|-------------------------------|----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b3223-111">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-111">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-112">2224046</span><span class="sxs-lookup"><span data-stu-id="b3223-112">2224046</span></span>              | <span data-ttu-id="b3223-113">**交易类** 字段在 **报价单明细详细信息** 选项卡上可编辑，但在从 **报价单明细详细信息** 页面中工作时锁定。</span><span class="sxs-lookup"><span data-stu-id="b3223-113">The **Transaction Class** field is editable on the **Quote Line Details** tab, but is locked if you are working from the **Quote Line Details** page.</span></span>                                                                     |
| <span data-ttu-id="b3223-114">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-114">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-115">2224400</span><span class="sxs-lookup"><span data-stu-id="b3223-115">2224400</span></span>              | <span data-ttu-id="b3223-116">当报价单没有日期里程碑时，**将报价单作为赢单结束** 操作将失败。</span><span class="sxs-lookup"><span data-stu-id="b3223-116">The **Close Quote As Won** action fails when a quote has no date milestones.</span></span>                                                                                                                                    |
| <span data-ttu-id="b3223-117">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-117">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-118">2234089</span><span class="sxs-lookup"><span data-stu-id="b3223-118">2234089</span></span>              | <span data-ttu-id="b3223-119">当您手动输入产品说明时，在输入材料估计的数量后，将清除它。</span><span class="sxs-lookup"><span data-stu-id="b3223-119">When you manually enter a product description, it's cleared after you enter a quantity for a material estimate.</span></span>                                                                                                                         |
| <span data-ttu-id="b3223-120">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-120">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-121">2234100</span><span class="sxs-lookup"><span data-stu-id="b3223-121">2234100</span></span>              | <span data-ttu-id="b3223-122">**任务记帐设置** 网格不包括 **材料** 列，并且值在项目的 **任务记帐** 选项卡上。</span><span class="sxs-lookup"><span data-stu-id="b3223-122">The **Task Billing Setup** grid doesn't include the **Material** column and it's value on the **Task Billing** tab of the project.</span></span>                                                                                                       |
| <span data-ttu-id="b3223-123">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-123">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-124">2277409</span><span class="sxs-lookup"><span data-stu-id="b3223-124">2277409</span></span>              | <span data-ttu-id="b3223-125">产品 ID 在物料类型行的合同子项详细信息上不可用。</span><span class="sxs-lookup"><span data-stu-id="b3223-125">The product ID isn't available on the contract line detail for a material type line.</span></span>                                                                                                                                        |
| <span data-ttu-id="b3223-126">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-126">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-127">2281728</span><span class="sxs-lookup"><span data-stu-id="b3223-127">2281728</span></span>              | <span data-ttu-id="b3223-128">在创建合同子项时对实际值进行不必要的重新评估会导致数据量显著增加，这将影响性能。</span><span class="sxs-lookup"><span data-stu-id="b3223-128">Creating a contract line unnecessarily reevaluates actuals causing significant increases in data volume, which impacts performance.</span></span>                                                                                |
| <span data-ttu-id="b3223-129">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-129">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-130">2298668</span><span class="sxs-lookup"><span data-stu-id="b3223-130">2298668</span></span>              | <span data-ttu-id="b3223-131">不会删除关联到撤消和删除的支出的日记帐行。</span><span class="sxs-lookup"><span data-stu-id="b3223-131">Journal lines associated to a recalled and deleted expense aren't removed.</span></span>                                                                                                                                     |
| <span data-ttu-id="b3223-132">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-132">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-133">2300192</span><span class="sxs-lookup"><span data-stu-id="b3223-133">2300192</span></span>              | <span data-ttu-id="b3223-134">当多个用户编辑发票时，可以在确认的发票上创建新的发票行详细信息。</span><span class="sxs-lookup"><span data-stu-id="b3223-134">When multiple users are editing an invoice, it's possible for a new invoice line detail to be created on a confirmed invoice.</span></span>                                                                                   |
| <span data-ttu-id="b3223-135">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-135">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-136">2301569</span><span class="sxs-lookup"><span data-stu-id="b3223-136">2301569</span></span>              | <span data-ttu-id="b3223-137">如果已应用 \$0 保留款金额，则无法更正发票。</span><span class="sxs-lookup"><span data-stu-id="b3223-137">Invoices can't be corrected if a \$0 amount retainer has been applied.</span></span>                                                                                                                                        |
| <span data-ttu-id="b3223-138">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-138">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-139">2307965</span><span class="sxs-lookup"><span data-stu-id="b3223-139">2307965</span></span>              | <span data-ttu-id="b3223-140">如果创建的类别价格缺少值，将出现一个错误。</span><span class="sxs-lookup"><span data-stu-id="b3223-140">An error occurs if a category price is created with missing values.</span></span>                                                                                                                           |
| <span data-ttu-id="b3223-141">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-141">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-142">2326870</span><span class="sxs-lookup"><span data-stu-id="b3223-142">2326870</span></span>              | <span data-ttu-id="b3223-143">如果 **producttypecode** 为 null，**Microsoft.Dynamics.ProjectService.Plugins.PostInvoiceLineDelete** 中将出现一个错误。</span><span class="sxs-lookup"><span data-stu-id="b3223-143">An error occurs in **Microsoft.Dynamics.ProjectService.Plugins.PostInvoiceLineDelete** if **producttypecode** is null.</span></span>                                                                            |
| <span data-ttu-id="b3223-144">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-144">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-145">2332732</span><span class="sxs-lookup"><span data-stu-id="b3223-145">2332732</span></span>              | <span data-ttu-id="b3223-146">如果创建的合同子项里程碑没有订单行，将出现一个错误。</span><span class="sxs-lookup"><span data-stu-id="b3223-146">An error occurs if a contract line milestone is created without an order line.</span></span>                                                                                                                |
| <span data-ttu-id="b3223-147">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-147">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-148">2181094</span><span class="sxs-lookup"><span data-stu-id="b3223-148">2181094</span></span>              | <span data-ttu-id="b3223-149">项目计划 API 现在支持存储 90 天的 PSS 日志和 Operation Set 日志。</span><span class="sxs-lookup"><span data-stu-id="b3223-149">The Project Scheduling API now supports PSS Logs and Operation Set Logs which are stored for 90 days.</span></span>                                                                                                                  |
| <span data-ttu-id="b3223-150">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-150">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-151">2254201</span><span class="sxs-lookup"><span data-stu-id="b3223-151">2254201</span></span>              | <span data-ttu-id="b3223-152">使用描述默认逻辑的详细信息更新 **计划模式** 标签。</span><span class="sxs-lookup"><span data-stu-id="b3223-152">The **Schedule Mode** label is updated with details that describe the defaulting logic.</span></span>                                                                                                                                      |
| <span data-ttu-id="b3223-153">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-153">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-154">2300252</span><span class="sxs-lookup"><span data-stu-id="b3223-154">2300252</span></span>              | <span data-ttu-id="b3223-155">**openProject** 响应缓存将更新并在缓存密钥中包括标记负责人 **基本 URL** 和 **客户细分 URL**，以便在 **基本 URL** 发生更改时，始终可以重新创建 **请求 URL**。</span><span class="sxs-lookup"><span data-stu-id="b3223-155">The **openProject** response cache is updated and includes the token owner in the cache key, **base Url**, and **Segment Url** so that **Request Url** can always be re-created if the **base Url** changes.</span></span> |
| <span data-ttu-id="b3223-156">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-156">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-157">2301312</span><span class="sxs-lookup"><span data-stu-id="b3223-157">2301312</span></span>              | <span data-ttu-id="b3223-158">**msdyn_membershipstatus** 已从 **项目团队成员** 视图中删除。</span><span class="sxs-lookup"><span data-stu-id="b3223-158">**msdyn_membershipstatus** has been removed from the **Project Team Member** view.</span></span>                                                                                                                                        |
| <span data-ttu-id="b3223-159">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-159">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-160">2302759</span><span class="sxs-lookup"><span data-stu-id="b3223-160">2302759</span></span>              | <span data-ttu-id="b3223-161">没必要在 **资源分配**、**估计** 和 **支出估计** 选项卡上获取产品。</span><span class="sxs-lookup"><span data-stu-id="b3223-161">Products are unnecessarily fetched on the **Resource Assignments**, **Estimates**, and **Expense Estimates** tabs.</span></span>                                                                                                        |
| <span data-ttu-id="b3223-162">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-162">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-163">2308050</span><span class="sxs-lookup"><span data-stu-id="b3223-163">2308050</span></span>              | <span data-ttu-id="b3223-164">**CopyProject** 失败，并显示错误“无法获取标记以与远程服务通信”。</span><span class="sxs-lookup"><span data-stu-id="b3223-164">**CopyProject** fails with the error, “Failed to get token to talk to remote service”.</span></span>                                                                                                                           |
| <span data-ttu-id="b3223-165">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-165">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-166">2322650</span><span class="sxs-lookup"><span data-stu-id="b3223-166">2322650</span></span>              | <span data-ttu-id="b3223-167">**项目任务列表** 视图已更新，以默认显示任务的日期。</span><span class="sxs-lookup"><span data-stu-id="b3223-167">The **Project Task List** view has been updated to display the date of the task by default.</span></span>                                                                                                            |
| <span data-ttu-id="b3223-168">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-168">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-169">2327266</span><span class="sxs-lookup"><span data-stu-id="b3223-169">2327266</span></span>              | <span data-ttu-id="b3223-170">当复制估计值时，**CopyProject** 将生成错误“在字典中找不到密钥”。</span><span class="sxs-lookup"><span data-stu-id="b3223-170">**CopyProject** generates the error, "Key not found in dictionary" when copying estimates.</span></span>                                                                                                      |
| <span data-ttu-id="b3223-171">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-171">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-172">2328123</span><span class="sxs-lookup"><span data-stu-id="b3223-172">2328123</span></span>              | <span data-ttu-id="b3223-173">**CopyProject** 将生成错误“无法获取标记以与远程服务通信”。</span><span class="sxs-lookup"><span data-stu-id="b3223-173">**CopyProject** generates the error, "Failed to get token to talk to remote service".</span></span>                                                                                                                          |
| <span data-ttu-id="b3223-174">项目规划和跟踪</span><span class="sxs-lookup"><span data-stu-id="b3223-174">Project Planning and Tracking</span></span> | <span data-ttu-id="b3223-175">2336258</span><span class="sxs-lookup"><span data-stu-id="b3223-175">2336258</span></span>              | <span data-ttu-id="b3223-176">**CopyProject** 错误地复制资源的位置名称。</span><span class="sxs-lookup"><span data-stu-id="b3223-176">**CopyProject** incorrectly copies the position names of resources.</span></span>                                                                                                                                                 |
| <span data-ttu-id="b3223-177">计费和定价</span><span class="sxs-lookup"><span data-stu-id="b3223-177">Billing and Pricing</span></span>           | <span data-ttu-id="b3223-178">2224476</span><span class="sxs-lookup"><span data-stu-id="b3223-178">2224476</span></span>              | <span data-ttu-id="b3223-179">在 **材料使用情况** 页面上，**可预订资源** 字段不会正确地默认为已登录用户。</span><span class="sxs-lookup"><span data-stu-id="b3223-179">The **Bookable Resource** field doesn't correctly default to the logged in user on the **Material Usage** page.</span></span>                                                                                                            |
| <span data-ttu-id="b3223-180">资源管理</span><span class="sxs-lookup"><span data-stu-id="b3223-180">Resource Management</span></span>           | <span data-ttu-id="b3223-181">2277249</span><span class="sxs-lookup"><span data-stu-id="b3223-181">2277249</span></span>              | <span data-ttu-id="b3223-182">在更新基于非项目的资源要求时，将出现一个错误。</span><span class="sxs-lookup"><span data-stu-id="b3223-182">An error occurs when a non-project-based resource requirement is updated.</span></span>                                                                                                            |
| <span data-ttu-id="b3223-183">资源管理</span><span class="sxs-lookup"><span data-stu-id="b3223-183">Resource Management</span></span>           | <span data-ttu-id="b3223-184">2323869</span><span class="sxs-lookup"><span data-stu-id="b3223-184">2323869</span></span>              | <span data-ttu-id="b3223-185">资源利用率无法正确识别已筛选资源。</span><span class="sxs-lookup"><span data-stu-id="b3223-185">Resource utilization doesn't correctly recognize filtered resources.</span></span>                                                                                                                                             |
| <span data-ttu-id="b3223-186">时间和支出</span><span class="sxs-lookup"><span data-stu-id="b3223-186">Time and Expense</span></span>              | <span data-ttu-id="b3223-187">2176538</span><span class="sxs-lookup"><span data-stu-id="b3223-187">2176538</span></span>              | <span data-ttu-id="b3223-188">将向 **时间条目** 控件应用不正确的筛选运算符。</span><span class="sxs-lookup"><span data-stu-id="b3223-188">Incorrect filter operators are applied to the **Time Entry** control.</span></span>                                                                                                                                                   |
| <span data-ttu-id="b3223-189">时间和支出</span><span class="sxs-lookup"><span data-stu-id="b3223-189">Time and Expense</span></span>              | <span data-ttu-id="b3223-190">2177462</span><span class="sxs-lookup"><span data-stu-id="b3223-190">2177462</span></span>              | <span data-ttu-id="b3223-191">在网格中删除时间条目时不会按预期更新 **提交**、**撤消**、**删除** 和 **编辑条目** 按钮状态。</span><span class="sxs-lookup"><span data-stu-id="b3223-191">Deleting a time entry in the grid doesn't update the **Submit**, **Recall**, **Delete**, and **Edit Entry** button status as expected.</span></span>                                                                                        |
| <span data-ttu-id="b3223-192">时间和支出</span><span class="sxs-lookup"><span data-stu-id="b3223-192">Time and Expense</span></span>              | <span data-ttu-id="b3223-193">2299985</span><span class="sxs-lookup"><span data-stu-id="b3223-193">2299985</span></span>              | <span data-ttu-id="b3223-194">**TimeEntriesImportFromResourceAssignment** 不会保留工作等值线中的开始/结束时间。</span><span class="sxs-lookup"><span data-stu-id="b3223-194">**TimeEntriesImportFromResourceAssignment** doesn't maintain the start/end time from the assignment contours.</span></span>                                                                                                  |
| <span data-ttu-id="b3223-195">时间和支出</span><span class="sxs-lookup"><span data-stu-id="b3223-195">Time and Expense</span></span>              | <span data-ttu-id="b3223-196">2318426</span><span class="sxs-lookup"><span data-stu-id="b3223-196">2318426</span></span>              | <span data-ttu-id="b3223-197">在提交时间条目后，仍可以编辑锁定字段。</span><span class="sxs-lookup"><span data-stu-id="b3223-197">After a time entry is submitted, locked fields can still be edited.</span></span>                                                                                                                                   |
| <span data-ttu-id="b3223-198">时间和支出</span><span class="sxs-lookup"><span data-stu-id="b3223-198">Time and Expense</span></span>              | <span data-ttu-id="b3223-199">2323749</span><span class="sxs-lookup"><span data-stu-id="b3223-199">2323749</span></span>              | <span data-ttu-id="b3223-200">当从可预订资源的 **相关** 选项卡中创建支出时，将出现一个错误。</span><span class="sxs-lookup"><span data-stu-id="b3223-200">An error occurs when an expense is created from the **Related** tab of a bookable resource.</span></span>                                                                                                      |
| <span data-ttu-id="b3223-201">时间和支出</span><span class="sxs-lookup"><span data-stu-id="b3223-201">Time and Expense</span></span>              | <span data-ttu-id="b3223-202">2327678</span><span class="sxs-lookup"><span data-stu-id="b3223-202">2327678</span></span>              | <span data-ttu-id="b3223-203">当从可预订资源的 **相关** 选项卡中创建时间条目时，父资源不会传递到时间条目控件。</span><span class="sxs-lookup"><span data-stu-id="b3223-203">When you create a time entry from the **Related** tab of a bookable resource, the parent resource isn't passed to the time entry control.</span></span>                                                                            |
| <span data-ttu-id="b3223-204">常规</span><span class="sxs-lookup"><span data-stu-id="b3223-204">General</span></span>                       | <span data-ttu-id="b3223-205">2296857</span><span class="sxs-lookup"><span data-stu-id="b3223-205">2296857</span></span>              | <span data-ttu-id="b3223-206">长时间运行的作业的进度跟踪。</span><span class="sxs-lookup"><span data-stu-id="b3223-206">Progress tracking for long running jobs.</span></span>                                                                                                                                                                        |
| <span data-ttu-id="b3223-207">常规</span><span class="sxs-lookup"><span data-stu-id="b3223-207">General</span></span>                       | <span data-ttu-id="b3223-208">2253682</span><span class="sxs-lookup"><span data-stu-id="b3223-208">2253682</span></span>              | <span data-ttu-id="b3223-209">当在没有双重写入业务流程解决方案的环境中安装双重写入核心时，不应安装 Project Operations 双重写入解决方案。</span><span class="sxs-lookup"><span data-stu-id="b3223-209">The Project Operations dual-write solution shouldn't be installed when dual-write core is installed in an environment without the dual-write orchestration solution.</span></span>                                                |
| <span data-ttu-id="b3223-210">常规</span><span class="sxs-lookup"><span data-stu-id="b3223-210">General</span></span>                       | <span data-ttu-id="b3223-211">2316420</span><span class="sxs-lookup"><span data-stu-id="b3223-211">2316420</span></span>              | <span data-ttu-id="b3223-212">如果更改应用程序用户的业务部门，Project Service 核心预配将失败。</span><span class="sxs-lookup"><span data-stu-id="b3223-212">Project service core provisioning fails if the application user’s business unit is changed.</span></span>                                                                                                                     |
